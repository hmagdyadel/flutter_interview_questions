https://medium.com/@fluttergems/mastering-dart-flutter-devtools-series-introduction-installation-part-1-of-8-4f703a8cfcc8


After building a full-fledged feature rich Flutter app, you might experience an urge to build a release bundle, upload it on the app store or play store and share it with the world.

But, hold on my friend! You forgot a critical step.

Did you ensure that your app:

Provides a great user experience?
Works seamlessly regardless of the device?
Will not slow down or crash?
Is high performance — optimized for speed, uses minimum resources, low network data usage, etc.?

You can get an answer to all these questions by analysing various app performance metrics that have a direct impact on the app’s user experience.

Looks like a lot of additional work, right?

Nope, it isn’t!

Dart & Flutter ship with a range of performance and debugging tools, that are collectively known as DevTools. These tools can help you collect, monitor and analyze various metrics that can help you build a high performance app.

This is the first part of the series of in-depth articles, which will help you master each and every tool in the DevTools suite using real world apps as case studies. The objective of this article is to introduce DevTools and help you activate and launch it. In case you have already setup DevTools, and you wish to directly learn a particular tool, just click on the corresponding link below:

Part 1: Introduction & Installation 
Part 2: Flutter Inspector
Part 3: App Size Tool
Part 4: Network View
Part 5: Logging View
Part 6: CPU Profiler View
Part 7: Memory View
Part 8: Performance View

So, let us get started by learning more about DevTools and try to understand how it can help you build high-performance apps.

What is DevTools and why do we need it?
DevTools is a suite of pre-packaged Application Performance Monitoring (APM) and Debugging tools that is available in Dart & Flutter. These tools can either be accessed using a browser or can be viewed directly in the IDE.

Nowadays, as people are increasingly relying on apps to fulfil their daily needs, success of a business has become directly proportional to its app’s performance. If an app has a slow response time, crashes or isn’t optimized for hands-on interaction, it leads to a poor user experience that can result in user frustration, negative reviews, app abandonment and loss of revenue, besides the damage caused to the brand.


Thus, it is critical to identify and pinpoint application performance issues during the release cycle before any real user is impacted. This helps in ensuring the delivery of a superb user experience and can be accomplished via DevTools that provide tools to:

Monitor technical performance metrics like memory usage, CPU usage, FPS, network usage, etc., and
Monitor User Experience through perceived performance metrics like janking, page load speed or response times that directly impact an app user.
Manage and Troubleshoot any aspect of the app that has a critical impact on the above mentioned metrics.
Let us go through the individual tools available in DevTools that can help you monitor and analyze some of the above mentioned metrics:

Flutter Inspector — It is a visual tool useful for inspecting UI layout, tweaking UI elements, diagnosing layout issues and exploring the widget tree of a Flutter app. You can take a deep dive into Flutter Inspector tool in our article.
App Size Tool — This tool can be used to visualize and inspect the total size of the app via hierarchical chart display. It can also be used to analyze and visualize any difference in the total size of two apps (old vs updated version). You can read more about App Size tool in our detailed article.
Network View — Any HTTP, HTTPS or web socket traffic from your application like REST API calls, network image downloads, json responses, etc. can be monitored using the Network View tool. You can learn more about Network View tool in our detailed article — here.
Logging View — This tool is useful for monitoring diagnostics information and logs generated by the framework and by the user while running an app. It is a good practice to use Logging View instead of browsing the standard output as the logs are labeled, much better organised and are not truncated allowing granular inspection. You can read more about Logging View tool in our detailed article.
CPU Profiler View — This tool enables us to monitor the CPU usage of a Flutter app and investigate any performance issue that might exist due to higher execution time of any piece of code. To learn more about CPU Profiler View tool, check out our detailed article — here.
Memory View — This tool helps in visualizing the memory usage of a Dart or Flutter app and is useful for inspecting objects and detecting any memory leaks that lead to an app crash. You can learn more about Memory View tool in our detailed article — here.
Performance View — This tool is useful for capturing and visualizing timing and performance metrics like rendering frame per second (FPS) that can help us detect any UI jank (Slow Frame Rate) in a Flutter app. To learn more about Performance View tool, check out our detailed article.
Debugger — A source level debugger is also provided in DevTools that can be used to step through the code using breakpoints and we can inspect the value of variables. As VS Code has a built-in debugger, this tool is only visible if the app is run via Android Studio or via command line.

The error was caused due to building and running the app in “debug” mode that is generally not a good indicator of the final behaviour of release mode builds. Debug mode enables expensive checks that don’t run in profile or release builds and debug mode also executes code in JIT mode as compared to AOT mode in profile and release builds.

Thus, it is recommended that all performance tools (Performance, CPU Profiler, Memory) must be used with Flutter applications running on a physical Android or iOS or Desktop device in “profile” mode. In this mode, the application compiled and launched is almost identical to the release build with just additional functionality to allow debugging performance problems.

Since we are using a macOS desktop (physical device) for development, we can go ahead and launch this desktop application in “profile” mode and open DevTools. The error message is no longer shown.


Anatomy of the Flutter Inspector
Toolbar
Widget Tree Pane
Layout Explorer / Widget Details Tree Pane
Let us quickly walk through these parts:

1. Flutter Inspector’s Toolbar

Flutter Inspector’s toolbar provides features that help in debugging layout issues visually. To activate any feature you just need to press the corresponding button in the toolbar. The available features are:

Select Widget Mode — Widgets can be selected in the interactive Widget Tree Panel to inspect their properties. But, this can be cumbersome in case the widget tree is deep. Enabling this mode allows the user to select a widget directly on the app’s UI, so that it can be further inspected.
Slow animations — When slow animations is enabled, all animations runs 5 times slower allowing for easy visual inspection. It is useful for observing and tweaking any animation that might not look fully right.
Show guidelines — When this feature is enabled, guidelines are drawn in the app displaying render boxes, alignments, paddings, scroll views, clipping and spacers. This tool can be used to better understand and modify the layout such as better aligning the widgets or removing any unwanted padding.
Show baselines — This tool is useful for visually inspecting the alignment of texts using baselines that are horizontal lines used for positioning texts. Selecting this option will make all the baselines visible, allowing you to precisely check the vertical alignment of the text.
Highlight repaints — This tool is useful for highlighting the widgets that are repainting frequently, that can hamper the performance of the app. Every time a box repaints, a border is drawn around it in a rotating rainbow colour.
Highlight oversized images — As the name suggests, this tool highlights high resolution images that are using too much memory by inverting colours and flipping them. Fixing these images is important as they can cause poor performance, especially on lower end devices and in case you have many images on the screen like in a GridView or a ListView.

2. Widget Tree Pane
In Flutter, any piece of UI that is rendered on the screen is a widget. The layout of a Flutter app’s user interface is composed of a hierarchy of widgets that is better known as the widget tree. The tree consists of individual widgets, each of which has its own properties and child widgets. This hierarchical structure is the primary reason why Flutter is able to efficiently compose and render the user interface. The Widget Tree pane is useful for viewing this widget tree and it can be used to select any widget in the tree to further inspect its layout and properties.

3. Layout Explorer / Widget Details Tree Pane
Whenever a flex widget (Row, Column, Flex) or any child of a flex widget is selected in the Widget Tree Pane, its layout can be visualized in the Layout Explorer (shown above). This view also provides various tools using which we can visually change the existing layout. To get a more detailed view of all the properties and values of the selected widget, you can click on the Widget Details Tree Tab as shown below.